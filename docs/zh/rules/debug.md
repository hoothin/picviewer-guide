---
title: 排错与调试
---

# 排错与调试

规则调试的目标是确认"规则是否命中"和"返回的 URL 是否正确"。

## 开启调试

在设置中启用 `debug`，浏览器控制台会输出更多匹配信息。

## 排错步骤

1. 确认 `url` 是否匹配目标站点。
2. 检查 `src` / `lazyAttr` 是否命中。
3. 核对 `r/s` 顺序与正则。
4. 使用 `xhr` 时验证选择器与链接。
5. 复杂逻辑在 `getImage` / `getExtSrc` 内加日志。

## 常见问题

- 替换后仍是缩略图：`r/s` 匹配不足或顺序错误。
- 规则未生效：`url` 过宽或过窄。
- 内页抓取失败：选择器未更新或跨域限制。
